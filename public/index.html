<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pastebox</title>
    <link rel="stylesheet" href="libs/prism/themes/prism.css"/>
    <link rel="stylesheet" href="css/main.min.css"/>
</head>
<body>
<nav class="navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-book"></span> PasteBox</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Mateusz Sienkan</a></li>
            <li><a href="#">Logout</a></a>
            </li>
        </ul>
    </div>
</nav>
<div class="app">
    <div class="sidebar column">
        <ul class="nav nav-sidebar">
            <li><a href="#"><span class="glyphicon glyphicon-file"></span> New Snippet</a></li>
        </ul>
        <ul class="nav nav-sidebar">
            <li class="active"><a href="#"><span class="glyphicon glyphicon-th-list"></span> All Snippets</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-star"></span> Starred</a></li>
        </ul>
        <h4><span class="glyphicon glyphicon-user"></span> Users</h4>
        <ul class="nav nav-sidebar">
            <li><a href="#"><img src="http://www.gravatar.com/avatar/151e8b98593fba7da84eeb8895abd8c8?s=20"> Mateusz Sienkan</a></li>
        </ul>
    </div>
    <div class="list column">
        <div class="filter-bar">
            <div class="btn-group btn-group-sm" role="group" aria-label="Filters">
                <button type="button" class="btn btn-default active">All</button>
                <button type="button" class="btn btn-default">Mine</button>
                <button type="button" class="btn btn-default">Other</button>
            </div>
            <div class="btn-group btn-group-sm pull-right" role="group" aria-label="Filters">
                <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-chevron-down"></span> Created</button>
                <button type="button" class="btn btn-default">Updated</button>
                <button type="button" class="btn btn-default">Title</button>
                <button type="button" class="btn btn-default">Author</button>
            </div>
        </div>
        <ul class="snippets-list">
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>JavaScript code</h2>
                    <span>Created 6 minutes ago by <a href="#">Mateusz Sienkan</a></span>
                </header>
                <p>Some JavaScript code...</p>
            </li>
            <li class="active">
                <aside class="pull-right"><span class="glyphicon glyphicon-star"></span></aside>
                <header>
                    <h2>init.lua</h2>
                    <span>Created 15 minutes ago by <a href="#">Mateusz Sienkan</a></span>
                </header>
                <p>Mjolnir configuration file</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star"></span></aside>
                <header>
                    <h2>Logs</h2>
                    <span>Created 20 minutes ago by <a href="#">Mateusz Sienkan</a></span>
                </header>
                <p>Server logs</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
            <li>
                <aside class="pull-right"><span class="glyphicon glyphicon-star-empty"></span></aside>
                <header>
                    <h2>{{title}}</h2>
                    <span>Created {{date}} by <a href="#">{{author}}</a></span>
                </header>
                <p>{{description}}</p>
            </li>
        </ul>
    </div>
    <div class="preview column">
        <header>
            <div class="btn-group btn-group-sm pull-right" role="group" aria-label="Edit buttons">
                <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-link"></span> Link</button>
                <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-export"></span> Fork</button>
                <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span> Edit</button>
                <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-trash"></span> Delete</button>
            </div>
            <h2>init.lua</h2>
            <span>Created 15 minutes ago by <a href="#">Mateusz Sienkan</a></span>

            <p>Mjolnir configuration file</p>
        </header>
        <pre><code class="language-javascript">-- File:        ~/.mjolnir/init.moon
-- Description: Mjolnir configuration file
-- Author:      Mateusz Sienkan

application = require "mjolnir.application"
window = require "mjolnir.window"
hotkey = require "mjolnir.hotkey"
alert = require "mjolnir.alert"
grid = require "grid"
hints = require "hints"
spotify = require "spotify"

mash = {"ctrl", "alt", "cmd"}
definitions = {}
recentmin = nil

w = grid.WIDTH
h = grid.HEIGHT

grids = {
  fullscreen:  { x: 0,     y: 0,    w: w,     h: h     }
  medium:      { x: w/12,  y: h/6,  w: w/6*5, h: h/3*2 }
  top:         { x: 0,     y: 0,    w: w,     h: h/2   }
  bottom:      { x: 0,     y: h/2,  w: w,     h: h/2   }
  left:        { x: 0,     y: 0,    w: w/2,   h: h     }
  leftnarrow:  { x: 0,     y: 0,    w: w/3,   h: h     }
  leftwide:    { x: 0,     y: 0,    w: w/3*2, h: h     }
  right:       { x: w/2,   y: 0,    w: w/2,   h: h     }
  rightnarrow: { x: w/3*2, y: 0,    w: w/3,   h: h     }
  rightwide:   { x: w/3,   y: 0,    w: w/3*2, h: h     }
  topleft:     { x: 0,     y: 0,    w: w/2,   h: h/2   }
  topright:    { x: w/2,   y: 0,    w: w/2,   h: h/2   }
  bottomleft:  { x: 0,     y: h/2,  w: w/2,   h: h/2   }
  bottomright: { x: w/2,   y: h/2,  w: w/2,   h: h/2   }
}

apps = {
  a: "Atom"
  b: "Brackets"
  c: "Terminal"
  d: "Dash"
  e: "Evernote"
  f: "Firefox"
  g: "Google Chrome"
  l: "Dashlane"
  p: "Pomodoro One"
  s: "Spotify"
  t: "Sublime Text"
  u: "Wunderlist"
  v: "VirtualBox"
  w: "WebStorm"
}

gridlists = {
  { key: "up",    list: {"fullscreen", "top", "medium"} }
  { key: "down",  list: {"bottom", "medium"} }
  { key: "left",  list: {"left", "leftwide", "leftnarrow"} }
  { key: "right", list: {"right", "rightwide", "rightnarrow"} }
  { key: "1",     list: {"topleft"} }
  { key: "2",     list: {"topright"} }
  { key: "3",     list: {"bottomleft"} }
  { key: "4",     list: {"bottomright"} }
}

minimize = ->
  win = window.focusedwindow!
  if win == nil return
  win\minimize!
  recentmin = win

compare = (a, b) ->
  if a.x ~= b.x or a.y ~= b.y or a.w ~= b.w or a.h ~= b.h return false
  return true

gridset = (list, key) ->
  return ->
    win = window.focusedwindow!
    if (win == nil or win\isstandard ~= true) and recentmin and key == "up"
      win = recentmin
      win\unminimize!
      recentmin = nil
      return
    elseif win == nil or win\isfullscreen! == true return
    current_grid = grid.get(win)
    index = nil
    for i, grid in ipairs list
      if i > 1 and compare(current_grid, list[i - 1])
        index = i
    if index == nil
      index = 1
    grid.set(win, list[index], win\screen!)

init = ->
  for i, grid in pairs gridlists
    list = {}
    for i, string in pairs grid.list
      list[i] = grids[string]
    definitions[grid.key] = gridset(list, grid.key)

  for key, app in pairs apps
    definitions[key] = ->
      application.launchorfocus(app)

  for key, fun in pairs definitions
    hotkey.bind(mash, key, fun)

  hotkey.bind(mash, "M", minimize)
  hotkey.bind(mash, "=", spotify.displayCurrentTrack)
  hotkey.bind(mash, "space", hints.displayHints)

init!</code></pre>
    </div>
</div>
<script data-main="js/main" src="libs/requirejs/require.js"></script>
</body>
</html>
